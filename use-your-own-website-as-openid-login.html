<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="author" content="Jens Frey" />

        <meta name="description" content="This article will show you how to use the OpenID delegation feature which allows you to use your own domain as an identifier for OpenID.
" />
        <meta name="twitter:creator" content="@authsec">
        <meta property="og:type" content="article" />
        <meta name="twitter:card" content="summary">

<meta name="keywords" content="OpenID, Security, Security, " />

<meta property="og:title" content="Use your own website as OpenID login "/>
<meta property="og:url" content="https://authsec.github.io/datapile/use-your-own-website-as-openid-login" />
<meta property="og:description" content="This article will show you how to use the OpenID delegation feature which allows you to use your own domain as an identifier for OpenID." />
<meta property="og:site_name" content="Datapile" />
<meta property="og:article:author" content="Jens Frey" />
<meta property="og:article:published_time" content="2010-11-12T14:00:34+01:00" />
<meta property="og:article:modified_time" content="2010-12-04T18:40:00+01:00" />
<meta name="twitter:title" content="Use your own website as OpenID login ">
<meta name="twitter:description" content="This article will show you how to use the OpenID delegation feature which allows you to use your own domain as an identifier for OpenID.">
<meta property="og:image" content="http://localhost:8000/theme/images/apple-touch-icon-152x152.png" />
<meta name="twitter:image" content="http://localhost:8000/theme/images/apple-touch-icon-152x152.png" >

        <title>Use your own website as OpenID login  · Datapile
</title>
        <link href="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap-combined.min.css" rel="stylesheet">
        <link rel="stylesheet" type="text/css" href="https://authsec.github.io/datapile/theme/css/elegant.prod.css" media="screen">
        <link rel="stylesheet" type="text/css" href="https://authsec.github.io/datapile/theme/css/custom.css" media="screen">

        <link rel="shortcut icon" href="https://authsec.github.io/datapile/theme/images/favicon.ico" type="image/x-icon" />
        <link rel="icon" href="https://authsec.github.io/datapile/theme/images/apple-touch-icon-152x152.png" type="image/png" />
        <link rel="apple-touch-icon" href="https://authsec.github.io/datapile/theme/images/apple-touch-icon.png"  type="image/png" />
        <link rel="apple-touch-icon" sizes="57x57" href="https://authsec.github.io/datapile/theme/images/apple-touch-icon-57x57.png" type="image/png" />
        <link rel="apple-touch-icon" sizes="72x72" href="https://authsec.github.io/datapile/theme/images/apple-touch-icon-72x72.png" type="image/png" />
        <link rel="apple-touch-icon" sizes="76x76" href="https://authsec.github.io/datapile/theme/images/apple-touch-icon-76x76.png" type="image/png" />
        <link rel="apple-touch-icon" sizes="114x114" href="https://authsec.github.io/datapile/theme/images/apple-touch-icon-114x114.png" type="image/png" />
        <link rel="apple-touch-icon" sizes="120x120" href="https://authsec.github.io/datapile/theme/images/apple-touch-icon-120x120.png" type="image/png" />
        <link rel="apple-touch-icon" sizes="144x144" href="https://authsec.github.io/datapile/theme/images/apple-touch-icon-144x144.png" type="image/png" />
        <link rel="apple-touch-icon" sizes="152x152" href="https://authsec.github.io/datapile/theme/images/apple-touch-icon-152x152.png" type="image/png" />
        <link rel="apple-touch-icon" sizes="152x152" href="https://authsec.github.io/datapile/theme/images/apple-touch-icon-180x180.png" type="image/png" />
        <link href="https://authsec.github.io/datapile/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Datapile - Full Atom Feed" />


    </head>
    <body>
        <div id="content">
            <div class="navbar navbar-static-top">
                <div class="navbar-inner">
                    <div class="container-fluid">
                        <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                        </a>
                        <a class="brand" href="https://authsec.github.io/datapile/"><span class=site-name>Datapile</span></a>
                        <div class="nav-collapse collapse">
                            <ul class="nav pull-right top-menu">
                                <li >
                                    <a href=
                                       https://authsec.github.io/datapile
                                    >Home</a>
                                </li>
                                <li ><a href="https://authsec.github.io/datapile/categories">Categories</a></li>
                                <li ><a href="https://authsec.github.io/datapile/tags">Tags</a></li>
                                <li ><a href="https://authsec.github.io/datapile/archives">Archives</a></li>
                                <li><form class="navbar-search" action="https://authsec.github.io/datapile/search" onsubmit="return validateForm(this.elements['q'].value);"> <input type="text" class="search-query" placeholder="Search" name="q" id="tipue_search_input"></form></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            <div class="container-fluid">
                <div class="row-fluid">
                    <div class="span1"></div>
                    <div class="span10">
<article itemscope>
<div class="row-fluid">
    <header class="page-header span10 offset2">
        <h1>
            <a href="https://authsec.github.io/datapile/use-your-own-website-as-openid-login">
                Use your own website as OpenID&nbsp;login
            </a>
        </h1>
    </header>
</div>

<div class="row-fluid">
        <div class="span8 offset2 article-content">
            
            <p>If you want to use OpenID as an authentication mechanism, but are
afraid of the fact that your OpenID provider may die in the future, or
you simply might want to use another provider in the future, you can
use a delegation model with&nbsp;OpenID.</p>
<p>A reason to change the OpenID provider might be, that your current
OpenID provider does not support an authentication mechanism you like
to, as for example the YubiKey or something like&nbsp;that.</p>
<p>Let&#8217;s say you want to use <a class="reference external" href="http://xyz.example.com">http://xyz.example.com</a> as your OpenID and
you want to use <a class="reference external" href="http://clavid.com">http://clavid.com</a> as your Identity Provider, you have to
execute the following&nbsp;steps.</p>
<div class="section" id="create-a-sub-domain-for-example-com-called-xyz">
<h2>Create a (sub-)domain for example.com called&nbsp;xyz.</h2>
<p>This can for example be done by adding another virtual host to your
apache configuration. The configuration might look like the following&nbsp;one:</p>
<div class="highlight"><pre><span></span><span class="nt">&lt;VirtualHost</span> <span class="s">xx.xx.xx.xx:80</span><span class="nt">&gt;</span>
        <span class="nb">ServerAdmin</span> webmaster@example.com
        <span class="nb">ServerName</span> xyz.example.com

        <span class="nb">DocumentRoot</span> <span class="sx">/var/www/xyz/</span>

        <span class="nt">&lt;Directory</span> <span class="s">/var/www/xyz/</span><span class="nt">&gt;</span>
                <span class="c"># Options Indexes MultiViews</span>
                <span class="nb">AllowOverride</span> <span class="k">None</span>
                <span class="nb">Order</span> allow,deny
                <span class="nb">allow</span> from <span class="k">all</span>
        <span class="nt">&lt;/Directory&gt;</span>

        <span class="nb">ErrorLog</span> <span class="sx">/var/log/apache2/error_xyz.log</span>

        <span class="c"># Possible values include: debug, info, notice, warn, error, crit,</span>
        <span class="c"># alert, emerg.</span>

        <span class="nb">LogLevel</span> <span class="k">warn</span>
        <span class="nb">CustomLog</span> <span class="sx">/var/log/apache2/access_xyz.log</span> combined
<span class="nt">&lt;/VirtualHost&gt;</span>
</pre></div>
</div>
<div class="section" id="create-a-index-html-file-inside-your-document-root">
<h2>Create a index.html file inside your document&nbsp;root</h2>
<p>As a next step you have to create a index.html file in your document
root (in this case <span class="file">/var/www/xyz</span>) with the following content in order
for OpenID services being able to find your current identity&nbsp;provider:</p>
<div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">html</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">title</span><span class="p">&gt;</span>Jens&#39; OpenID delegation page<span class="p">&lt;/</span><span class="nt">title</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">link</span> <span class="na">rel</span><span class="o">=</span><span class="s">&quot;openid.server&quot;</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;http://www.clavid.com/provider/openid&quot;</span> <span class="p">/&gt;</span>
        <span class="p">&lt;</span><span class="nt">link</span> <span class="na">rel</span><span class="o">=</span><span class="s">&quot;openid2.provider&quot;</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;http://www.clavid.com/provider/openid&quot;</span> <span class="p">/&gt;</span>
        <span class="p">&lt;</span><span class="nt">link</span> <span class="na">rel</span><span class="o">=</span><span class="s">&quot;openid.delegate&quot;</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;http://jens.clavid.com&quot;</span> <span class="p">/&gt;</span>
        <span class="p">&lt;</span><span class="nt">link</span> <span class="na">rel</span><span class="o">=</span><span class="s">&quot;openid2.local_id&quot;</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;http://jens.clavid.com&quot;</span> <span class="p">/&gt;</span>
<span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span>This page is used for OpenID delegation.<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
        For more information on OpenID either visit
        <span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;http://openid.net&quot;</span><span class="p">&gt;</span>http://openid.net<span class="p">&lt;</span><span class="nt">a</span><span class="p">&gt;</span> or
        <span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;http://clavid.com&quot;</span><span class="p">&gt;</span>http://clavid.com<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
</pre></div>
</div>
<div class="section" id="ready">
<h2>Ready</h2>
<p>From now on you can use <a class="reference external" href="http://xyz.example.com">http://xyz.example.com</a> as your OpenID, which will, as currently configured, be redirecting to <a class="reference external" href="http://clavid.com">http://clavid.com</a> where authentication will take&nbsp;place.</p>
</div>
<div class="section" id="references">
<h2>References</h2>
<p>You can read all about OpenID in the specification, but the part used for this example is available&nbsp;at:</p>
<p><a class="reference external" href="http://openid.net/specs/openid-authentication-1_1.html#delegating_authentication">http://openid.net/specs/openid-authentication-1_1.html#delegating_authentication</a></p>
</div>



             
 
                <p id="post-share-links">
    Like this post? Share on:
    <a href="https://twitter.com/intent/tweet?text=Use%20your%20own%20website%20as%20OpenID%C2%A0login&url=https%3A//authsec.github.io/datapile/use-your-own-website-as-openid-login&via=authsec&hashtags=openid,security" target="_blank" rel="nofollow noopener noreferrer" title="Share on Twitter">Twitter</a>
    ❄
    <a href="https://www.facebook.com/sharer/sharer.php?u=https%3A//authsec.github.io/datapile/use-your-own-website-as-openid-login" target="_blank" rel="nofollow noopener noreferrer" title="Share on Facebook">Facebook</a>
    ❄
    <a href="mailto:?subject=Use%20your%20own%20website%20as%20OpenID%C2%A0login&amp;body=https%3A//authsec.github.io/datapile/use-your-own-website-as-openid-login" target="_blank" rel="nofollow noopener noreferrer" title="Share via Email">Email</a>
    </p>

                <hr />
    <div class="author_blurb">
        <a href="https://www.coffeecrew.org/" target="_blank" rel="nofollow noopener noreferrer">
            <img src=https://avatars3.githubusercontent.com/u/7973409?s=400&u=071356b002dc73eed0cf5ff16474df64edd3943c&v=4 alt="Jens Frey Avatar" title="Jens Frey">
            <span class="author_name">Jens Frey</span>
        </a>
        is the creator of the datapile blog.
    </div>

            






            <hr/>
            <aside>
            <nav>
            <ul class="articles-timeline">
                <li class="previous-article">« <a href="https://authsec.github.io/datapile/programming-with-the-apr" title="Previous: Programming with the APR">Programming with the APR</a></li>
                <li class="next-article"><a href="https://authsec.github.io/datapile/goodbye" title="Next: Goodbye">Goodbye</a> »</li>
            </ul>
            </nav>
            </aside>
        </div>
        <section id="article-sidebar" class="span2">
            <h4>Published</h4>
            <time itemprop="dateCreated" datetime="2010-11-12T14:00:34+01:00">Nov 12, 2010</time>
<h4>Last Updated</h4>
<time datetime="2010-12-04T18:40:00+01:00">Dec 4, 2010</time>

            <h4>Category</h4>
            <a class="category-link" href="https://authsec.github.io/datapile/categories#security-ref">Security</a>
            <h4>Tags</h4>
            <ul class="list-of-tags tags-in-article">
                <li><a href="https://authsec.github.io/datapile/tags#openid-ref">OpenID
                    <span>1</span>
</a></li>
                <li><a href="https://authsec.github.io/datapile/tags#security-ref">Security
                    <span>1</span>
</a></li>
            </ul>
<h4>Stay in Touch</h4>
<div id="sidebar-social-link">
    <a href="https://github.com/authsec/" title="Authsec Github Repository" target="_blank" rel="nofollow noopener noreferrer">
        <svg xmlns="http://www.w3.org/2000/svg" aria-label="GitHub" role="img" viewBox="0 0 512 512"><rect width="512" height="512" rx="15%" fill="#1B1817"/><path fill="#fff" d="M335 499c14 0 12 17 12 17H165s-2-17 12-17c13 0 16-6 16-12l-1-50c-71 16-86-28-86-28-12-30-28-37-28-37-24-16 1-16 1-16 26 2 40 26 40 26 22 39 59 28 74 22 2-17 9-28 16-35-57-6-116-28-116-126 0-28 10-51 26-69-3-6-11-32 3-67 0 0 21-7 70 26 42-12 86-12 128 0 49-33 70-26 70-26 14 35 6 61 3 67 16 18 26 41 26 69 0 98-60 120-117 126 10 8 18 24 18 48l-1 70c0 6 3 12 16 12z"/></svg>
    </a>
    <a href="https://twitter.com/authsec" title="" target="_blank" rel="nofollow noopener noreferrer">
        <svg xmlns="http://www.w3.org/2000/svg" aria-label="Twitter" role="img" viewBox="0 0 512 512"><rect width="512" height="512" rx="15%" fill="#1da1f3"/><path fill="#fff" d="M437 152a72 72 0 0 1-40 12 72 72 0 0 0 32-40 72 72 0 0 1-45 17 72 72 0 0 0-122 65 200 200 0 0 1-145-74 72 72 0 0 0 22 94 72 72 0 0 1-32-7 72 72 0 0 0 56 69 72 72 0 0 1-32 1 72 72 0 0 0 67 50 200 200 0 0 1-105 29 200 200 0 0 0 309-179 200 200 0 0 0 35-37"/></svg>
    </a>
    <a href="https://www.linkedin.com/in/jens-frey-409ab844/" title="" target="_blank" rel="nofollow noopener noreferrer">
        <svg xmlns="http://www.w3.org/2000/svg" aria-label="LinkedIn" role="img" viewBox="0 0 512 512" fill="#fff"><rect width="512" height="512" rx="15%" fill="#0077b5"/><circle cx="142" cy="138" r="37"/><path stroke="#fff" stroke-width="66" d="M244 194v198M142 194v198"/><path d="M276 282c0-20 13-40 36-40 24 0 33 18 33 45v105h66V279c0-61-32-89-76-89-34 0-51 19-59 32"/></svg>
    </a>
    <a href="https://www.youtube.com/jensfrey" title="" target="_blank" rel="nofollow noopener noreferrer">
        <svg xmlns="http://www.w3.org/2000/svg" aria-label="YouTube" role="img" viewBox="0 0 512 512" fill="#ed1d24"><rect width="512" height="512" rx="15%"/><path d="m427 169c-4-15-17-27-32-31-34-9-239-10-278 0-15 4-28 16-32 31-9 38-10 135 0 174 4 15 17 27 32 31 36 10 241 10 278 0 15-4 28-16 32-31 9-36 9-137 0-174" fill="#fff"/><path d="m220 203v106l93-53"/></svg>
    </a>
    <a href="http://localhost:8000/feeds/all.atom.xml" title="" target="_blank" rel="nofollow noopener noreferrer">
        <svg xmlns="http://www.w3.org/2000/svg" aria-label="RSS" role="img" viewBox="0 0 512 512"><rect width="512" height="512" rx="15%" fill="#f80"/><circle cx="145" cy="367" r="35" fill="#fff"/><path fill="none" stroke="#fff" stroke-width="60" d="M109 241c89 0 162 73 162 162M109 127c152 0 276 124 276 276"/></svg>
    </a>
</div>
            





            



        </section>
</div>
</article>
                    </div>
                    <div class="span1"></div>
                </div>
            </div>
        </div>
<footer>
    <div>
        Content licensed under <a rel="license nofollow noopener noreferrer"
    href="http://creativecommons.org/licenses/by/4.0/" target="_blank">
    Creative Commons Attribution 4.0 International License</a>.
    </div>

    <div>
        <span class="site-name">Datapile</span> - Against Digital Amnesia
    </div>



    <div id="fpowered">
        Powered by: <a href="http://getpelican.com/" title="Pelican Home Page" target="_blank" rel="nofollow noopener noreferrer">Pelican</a>
        Theme: <a href="https://elegant.oncrashreboot.com/" title="Theme Elegant Home Page" target="_blank" rel="nofollow noopener noreferrer">Elegant</a>
        Hosted on:
        <a href=https://www.netlify.com/ target="_blank" rel="nofollow noopener noreferrer">
            Github
        </a>
    </div>
</footer>            <script src="//code.jquery.com/jquery.min.js"></script>
        <script src="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/js/bootstrap.min.js"></script>
        <script>
            function validateForm(query)
            {
                return (query.length > 0);
            }
        </script>

    <script>
    (function () {
        if (window.location.hash.match(/^#comment-\d+$/)) {
            $('#comment_thread').collapse('show');
        }
    })();
    window.onhashchange=function(){
        if (window.location.hash.match(/^#comment-\d+$/))
            window.location.reload(true);
    }
    $('#comment_thread').on('shown', function () {
        var link = document.getElementById('comment-accordion-toggle');
        var old_innerHTML = link.innerHTML;
        $(link).fadeOut(200, function() {
            $(this).text('Click here to hide comments').fadeIn(200);
        });
        $('#comment_thread').on('hidden', function () {
            $(link).fadeOut(200, function() {
                $(this).text(old_innerHTML).fadeIn(200);
            });
        })
    })
</script>

    </body>
    <!-- Theme: Elegant built for Pelican
        License : MIT -->
</html>